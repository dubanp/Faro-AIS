"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const ais_sentence_1 = require("./ais-sentence");
const ais_bitfield_1 = require("./ais-bitfield");
const ais_message_123_1 = require("./messages/ais-message-123");
const defaultOptions = {
    raw: false,
    checksum: true
};
class AisParser {
    constructor(options) {
        this.options = { ...defaultOptions, ...options };
    }
    parse(message) {
        const sentence = new ais_sentence_1.default(message, this.options.checksum);
        const bitField = new ais_bitfield_1.default(sentence);
        const messageType = bitField.getInt(0, 6);
        let decodedMessage;
        switch (messageType) {
            case 1:
            case 2:
            case 3:
                decodedMessage = new ais_message_123_1.default(messageType, bitField);
            default:
                decodedMessage = null;
        }
        return decodedMessage;
    }
}
exports.default = AisParser;
//# sourceMappingURL=ais-parser.js.map